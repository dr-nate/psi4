set(DKH_CONFIG_PATH ${CMAKE_CURRENT_LIST_DIR})

find_library(DKH_LIBRARY NAMES dkh PATHS ${DKH_CONFIG_PATH}/lib 
             NO_DEFAULT_PATH)
find_path(DKH_INCLUDE_DIR NAMES DKH/DKH_MANGLE.h 
          PATHS ${DKH_CONFIG_PATH}/include NO_DEFAULT_PATH)

if(${DKH_LIBRARY} MATCHES DKH_LIBRARY-NOTFOUND OR
   ${DKH_INCLUDE_DIR} MATCHES DKH_INCLUDE_DIR-NOTFOUND)
   set(dkh_FOUND FALSE)
   set(DKH_FOUND FALSE)
endif()
add_library(dkh INTERFACE)
set(DKH_LIBRARIES ${DKH_LIBRARY} @CMAKE_Fortran_IMPLICIT_LINK_LIBRARIES@)
target_link_libraries(dkh INTERFACE ${DKH_LIBRARIES})
set(DKH_INCLUDE_DIRS ${DKH_INCLUDE_DIR})
target_include_directories(dkh INTERFACE ${DKH_INCLUDE_DIRS})
set(DKH_FOUND TRUE)
set(DKH_FOUND TRUE)
